<template>
  <view class="level-card-container">
	<view class="title-box">
		<uni-title type="h2" :title="levelItem.levelDetail.content" style="margin-left: 20px;"></uni-title>	
	</view>
	<view class="level-card-body"> 
		<view class="icon-box">
			<view class="box-wrap" v-if="isPictureType(levelItem.levelDetail.data?.type)">
				<image 
					class="box-picture"
					mode="aspectFit" 
					:src="levelItem.levelDetail.data?.picUrl" 
					:draggable="false">
				</image>
			</view>
			<view class="box-wrap" v-if="isProgressType(levelItem.levelDetail.data?.type)">
				<dprogress :percentage="levelItem.levelDetail.data.progress" ptype="circle" />
			</view>
			<view class="box-wrap" v-if="isMindMapType(levelItem.levelDetail.data?.type)">
				<iframe frameborder="0" width="75%"  height="400px" style="border:1px solid;" :src="levelItem.levelDetail.data?.mindMapUrl"></iframe>
			</view>
		</view>
		<image 
			class="lock-bg" 
			mode="aspectFit" 
			v-if="levelItem.isLocked" 
			src="/static/lock.svg" 
			:draggable="false">
		</image>
	</view>
      
  </view>
</template>

<script>
	import { LevelDetailType } from '@/common/util.js'

export default {
  data() {
    return {
      // Add any dynamic data or methods as needed
    }
  },
  props: {
	levelItem: {
		type: Object,
		required: true,
		default: () => ({stepId:0, levelDetail: {content:'', url:'', data:{}}, isLocked: true}) 
	}
  },
  methods: {
	isPictureType(type) {
		return type === LevelDetailType.PICTURE;
	},
	isProgressType(type) {
		return type === LevelDetailType.PROGRESS;
	},
	isMindMapType(type) {
		return type === LevelDetailType.MINDMAP;
	},
	getLevelBodyIcon(stepId) {
		if(stepId === 0) {
			return `<svg t="1728782309379" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3346" width="32" height="32"><path d="M540.032 88c4.352 0 7.936 3.584 7.936 8v64h356.032a32 32 0 0 1 32 32v520a32 32 0 0 1-32 32H547.968v32.32l164.48 107.776a8 8 0 0 1 2.24 11.008l-30.272 47.168a8 8 0 0 1-11.136 2.432L512 838.912 350.72 944.64a8.064 8.064 0 0 1-11.136-2.304v-0.128l-30.272-47.168a7.936 7.936 0 0 1 2.304-11.008l164.8-108.096v-32H120a32 32 0 0 1-32-32V192a32 32 0 0 1 32-32h356.032v-64c0-4.416 3.584-8 8-8z m160.768 213.312L516.992 485.312 430.912 399.104a8 8 0 0 0-11.328 0L275.328 543.36a8 8 0 0 0 0 11.264l36.8 36.8a8 8 0 0 0 11.264 0l101.76-101.76L511.36 575.872a8 8 0 0 0 11.328 0l226.304-226.496a8 8 0 0 0 0-11.264l-36.8-36.8a8 8 0 0 0-11.328 0z" fill="#8968FF" p-id="3347"></path></svg>`
		}
		if(stepId === 1) {
			return `<svg t="1728622244734" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10824" width="32" height="32"><path d="M482.4576 917.504V247.1424c0-31.1808-14.336-106.0864-121.088-106.0864H149.1968c-24.9856 0-74.9056 1.8944-74.9056 69.888v533.0432c0 41.8304 6.2464 88.6784 73.0112 88.6784h119.8592c20.5824 0 169.984-15.2064 215.296 84.8384zM533.1456 917.504V247.1424c0-31.1808 14.336-106.0864 121.088-106.0864h212.224c24.9856 0 74.9056 1.8944 74.9056 69.888v533.0432c0 41.8304-6.2464 88.6784-73.0624 88.6784h-119.808c-20.5824 0-169.9328-15.2064-215.3472 84.8384z" fill="#59ADF8" p-id="10825"></path></svg>`
		}
		if(stepId === 2) {
			return `<svg t="1728622889003" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15468" width="32" height="32"><path d="M896 962.56H272.896C187.392 962.56 117.76 892.928 117.76 807.424V71.68h577.536c111.104 0 200.704 90.112 200.704 200.704V962.56z" fill="#FC5B31" p-id="15469"></path><path d="M642.56 317.44h-399.36c-14.336 0-25.6-11.264-25.6-25.6s11.264-25.6 25.6-25.6h399.36c14.336 0 25.6 11.264 25.6 25.6s-11.264 25.6-25.6 25.6zM642.56 491.52h-399.36c-14.336 0-25.6-11.264-25.6-25.6s11.264-25.6 25.6-25.6h399.36c14.336 0 25.6 11.264 25.6 25.6s-11.264 25.6-25.6 25.6zM740.864 856.064c-6.656 0-13.312-2.56-17.92-7.68-10.24-10.24-10.24-26.112 0-36.352l215.04-215.04c10.24-10.24 26.112-10.24 36.352 0s10.24 26.112 0 36.352l-215.04 215.04c-5.12 5.12-11.776 7.68-18.432 7.68zM669.184 917.504c-6.656 0-13.312-2.56-17.92-7.68-10.24-10.24-10.24-26.112 0-36.352l10.24-10.24c10.24-10.24 26.112-10.24 36.352 0s10.24 26.112 0 36.352l-10.24 10.24c-5.12 5.12-11.776 7.68-18.432 7.68z" fill="#FFFFFF" p-id="15470"></path></svg>`
		}
		if(stepId === 3) {
			return `<svg t="1728623079355" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18668" width="32" height="32"><path d="M372.363636 744.727273h-76.101818a54.225455 54.225455 0 0 1-50.036363-30.487273 40.727273 40.727273 0 0 1-4.887273-23.272727 151.738182 151.738182 0 0 0-23.272727-82.152728 152.436364 152.436364 0 0 0-20.945455-24.901818 351.883636 351.883636 0 0 1-41.890909-56.087272 302.545455 302.545455 0 0 1-27.927273-54.69091A180.363636 180.363636 0 0 1 116.363636 418.909091a246.923636 246.923636 0 0 1 6.050909-61.44 222.021818 222.021818 0 0 1 38.167273-84.712727A268.8 268.8 0 0 1 261.585455 186.181818a240.174545 240.174545 0 0 1 54.690909-18.385454 286.952727 286.952727 0 0 1 69.818181-5.585455 256 256 0 0 1 93.09091 21.178182 251.810909 251.810909 0 0 1 52.363636 32.349091 281.6 281.6 0 0 1 60.974545 67.723636 229.934545 229.934545 0 0 1 31.185455 76.334546 222.254545 222.254545 0 0 1 4.654545 66.792727 184.32 184.32 0 0 1-13.963636 55.621818 312.32 312.32 0 0 1-44.683636 77.265455 328.145455 328.145455 0 0 1-25.134546 28.858181 114.269091 114.269091 0 0 0-23.272727 34.676364 165.701818 165.701818 0 0 0-14.196364 40.261818c-1.163636 8.610909-1.163636 16.989091-2.094545 25.367273a124.741818 124.741818 0 0 1-2.56 18.385455 51.665455 51.665455 0 0 1-24.901818 29.323636 58.88 58.88 0 0 1-29.323637 7.214545z m-26.996363-512c-7.68 0-15.592727 1.396364-23.272728 2.792727a151.738182 151.738182 0 0 0-52.596363 18.850909 171.752727 171.752727 0 0 0-39.330909 31.418182 165.003636 165.003636 0 0 0-30.72 45.149091A169.658182 169.658182 0 0 0 186.181818 397.963636a19.549091 19.549091 0 1 0 39.098182 2.094546v-9.774546a116.363636 116.363636 0 0 1 7.447273-34.676363 131.956364 131.956364 0 0 1 46.545454-59.578182 118.458182 118.458182 0 0 1 66.792728-24.436364 85.178182 85.178182 0 0 0 13.265454-1.163636 16.523636 16.523636 0 0 0 13.498182-10.938182 25.6 25.6 0 0 0 0-13.265454 16.523636 16.523636 0 0 0-14.894546-13.498182z m-73.541818 581.818182h201.076363a15.127273 15.127273 0 0 1 15.825455 13.730909v42.356363a15.127273 15.127273 0 0 1-15.825455 13.730909h-201.076363a15.127273 15.127273 0 0 1-15.825455-13.730909v-42.356363a15.127273 15.127273 0 0 1 15.825455-13.730909z" fill="#d8f0d3" p-id="18669"></path><path d="M605.090909 804.538182h-90.298182A63.767273 63.767273 0 0 1 455.447273 768a50.734545 50.734545 0 0 1-5.818182-26.763636 186.181818 186.181818 0 0 0-27.927273-99.374546 181.992727 181.992727 0 0 0-24.669091-30.254545 415.883636 415.883636 0 0 1-49.803636-67.723637 378.181818 378.181818 0 0 1-33.28-66.56 226.443636 226.443636 0 0 1-11.403636-68.421818 298.123636 298.123636 0 0 1 7.214545-74.705454 266.24 266.24 0 0 1 46.545455-101.003637 319.767273 319.767273 0 0 1 119.621818-103.796363 291.374545 291.374545 0 0 1 65.163636-23.272728 331.170909 331.170909 0 0 1 81.687273-6.516363 281.134545 281.134545 0 0 1 170.356363 65.629091 338.850909 338.850909 0 0 1 72.378182 82.152727 279.272727 279.272727 0 0 1 37.003637 93.090909 276.014545 276.014545 0 0 1 5.12 80.058182 235.054545 235.054545 0 0 1-16.523637 67.490909 389.12 389.12 0 0 1-83.083636 128.232727 147.083636 147.083636 0 0 0-27.229091 42.123637 202.24 202.24 0 0 0-16.756364 48.872727c-1.629091 10.24-1.629091 20.48-2.56 30.487273a147.781818 147.781818 0 0 1-3.258181 23.272727 60.043636 60.043636 0 0 1-29.556364 35.374545 66.327273 66.327273 0 0 1-34.443636 9.076364z m-18.618182-626.734546c-9.774545 0-19.549091 1.861818-29.090909 3.490909a192.930909 192.930909 0 0 0-65.396363 23.272728A209.454545 209.454545 0 0 0 442.181818 243.665455a194.327273 194.327273 0 0 0-37.934545 55.854545 211.781818 211.781818 0 0 0-16.756364 82.850909 25.134545 25.134545 0 0 0 8.378182 19.781818 23.272727 23.272727 0 0 0 20.712727 5.818182 25.134545 25.134545 0 0 0 19.549091-23.272727V372.363636a144.523636 144.523636 0 0 1 8.610909-43.054545A164.538182 164.538182 0 0 1 502.458182 256a146.850909 146.850909 0 0 1 82.850909-30.021818l16.756364-1.396364a20.48 20.48 0 0 0 16.523636-13.730909 25.134545 25.134545 0 0 0 0-16.523636 20.48 20.48 0 0 0-18.152727-16.523637zM488.727273 861.090909h232.727272a18.152727 18.152727 0 0 1 18.152728 18.152727v56.32a18.385455 18.385455 0 0 1-18.152728 18.618182H488.727273a18.385455 18.385455 0 0 1-18.152728-18.385454v-56.785455A18.152727 18.152727 0 0 1 488.727273 861.090909z" fill="#7fcd6e" p-id="18670"></path></svg>`
		}
		if(stepId === 4) {
			return `<svg t="1728623134433" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21063" width="32" height="32"><path d="M980.309333 798.634667a65.109333 65.109333 0 0 1-11.776 51.2 66.944 66.944 0 0 1-44.8 27.392l-113.194666 17.962666a64.725333 64.725333 0 0 1-50.474667-11.818666 66.474667 66.474667 0 0 1-27.818667-44.842667l-96.213333-610.133333a69.76 69.76 0 0 1 1.408-26.922667 73.344 73.344 0 0 1 10.837333-23.637333 62.293333 62.293333 0 0 1 19.328-17.962667 81.066667 81.066667 0 0 1 25.941334-9.898667l112.256-17.962666a64 64 0 0 1 50.944 12.288 68.778667 68.778667 0 0 1 27.349333 45.312zM505.856 128a67.669333 67.669333 0 0 1 67.925333 68.010667v630.954666a67.669333 67.669333 0 0 1-67.925333 68.010667h-98.133333a67.669333 67.669333 0 0 1-67.925334-68.010667V196.010667a77.226667 77.226667 0 0 1 15.104-48.170667A52.309333 52.309333 0 0 1 399.274667 128z m0 476.032a19.413333 19.413333 0 0 0 16.042667-8.96 34.858667 34.858667 0 0 0 6.613333-21.333333 34.346667 34.346667 0 0 0-6.613333-21.717334 19.712 19.712 0 0 0-16.042667-8.533333h-98.133333a19.712 19.712 0 0 0-16.042667 8.533333 34.474667 34.474667 0 0 0-6.613333 21.717334 34.858667 34.858667 0 0 0 6.613333 21.333333 19.413333 19.413333 0 0 0 16.042667 8.96z m0-119.936a19.413333 19.413333 0 0 0 16.042667-8.96 36.693333 36.693333 0 0 0 6.613333-22.186667 34.389333 34.389333 0 0 0-6.613333-21.717333 19.712 19.712 0 0 0-16.042667-8.533333h-98.133333a19.712 19.712 0 0 0-16.042667 8.533333 34.474667 34.474667 0 0 0-6.613333 21.717333 36.437333 36.437333 0 0 0 6.613333 22.186667 19.456 19.456 0 0 0 16.042667 8.96zM209.664 128a67.029333 67.029333 0 0 1 48.597333 19.84 64.810667 64.810667 0 0 1 20.309334 48.170667v630.954666a64.810667 64.810667 0 0 1-20.309334 48.170667 67.029333 67.029333 0 0 1-48.597333 19.84h-98.133333a67.029333 67.029333 0 0 1-48.597334-19.84 64.810667 64.810667 0 0 1-20.309333-48.170667V196.010667a64.810667 64.810667 0 0 1 20.309333-48.170667A67.029333 67.029333 0 0 1 111.530667 128zM115.498667 364.202667a20.565333 20.565333 0 0 0-17.066667 8.533333 34.474667 34.474667 0 0 0-6.613333 21.717333 34.901333 34.901333 0 0 0 6.613333 21.333334 20.266667 20.266667 0 0 0 17.066667 8.96h90.538666a18.986667 18.986667 0 0 0 16.469334-8.96 36.736 36.736 0 0 0 6.144-21.333334 36.224 36.224 0 0 0-6.144-21.717333 19.328 19.328 0 0 0-16.469334-8.533333z m94.336 296.576a19.328 19.328 0 0 0 16.469333-8.533334 34.602667 34.602667 0 0 0 6.144-20.778666 34.133333 34.133333 0 0 0-6.144-21.333334 19.669333 19.669333 0 0 0-16.469333-8.021333H115.498667a20.992 20.992 0 0 0-17.066667 8.021333 32.469333 32.469333 0 0 0-6.613333 21.333334 32.853333 32.853333 0 0 0 6.613333 20.778666 20.565333 20.565333 0 0 0 17.066667 8.533334z m0-116.181334a19.328 19.328 0 0 0 16.469333-8.533333 41.6 41.6 0 0 0 0-43.434667 19.328 19.328 0 0 0-16.469333-8.533333H115.498667a20.565333 20.565333 0 0 0-17.066667 8.533333 39.04 39.04 0 0 0 0 43.434667 20.565333 20.565333 0 0 0 17.066667 8.533333z m0 0" fill="#1FC281" p-id="21064"></path></svg>`
		}
		if(stepId === 5) {
			return `<svg t="1728623219925" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="24165" width="32" height="32"><path d="M37.92 155.808a40.8 40.8 0 0 1 41.216-3.904l412.16 145.92V1024l-412.16-145.92a94.24 94.24 0 0 1-57.792-82.976V193.696c-1.792-14.72 4.576-29.216 16.576-37.888z m948.096 0.704c11.968 8.672 18.368 23.136 16.64 37.824v600.768a93.632 93.632 0 0 1-57.792 82.976L533.536 1024V298.464l411.328-145.92c13.44-6.24 29.184-4.736 41.152 3.968zM490.656 256l-320-256v128l320 128z m42.688 0l320-256v128l-320 128z" fill="#00B540" p-id="24166"></path></svg>`
		}
		if(stepId === 6) {
			return `<svg t="1728623275947" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="28466" width="32" height="32"><path d="M80 693.5l432 201.3 432-201.3-431-201.3z" fill="#FFFFFF" p-id="28467"></path><path d="M512 910.8c-2.3 0-4.6-0.5-6.8-1.5L73.2 708c-5.6-2.6-9.2-8.3-9.2-14.5 0-6.2 3.6-11.9 9.3-14.5l433-201.3c4.3-2 9.2-2 13.5 0l431 201.3c5.6 2.6 9.2 8.3 9.2 14.5s-3.6 11.9-9.2 14.5l-432 201.3c-2.2 1-4.5 1.5-6.8 1.5zM117.9 693.5L512 877.2l394.2-183.7L513 509.8 117.9 693.5z" fill="#808695" p-id="28468"></path><path d="M315.1 681.2L507.2 592c3.7-1.7 7.9-1.7 11.5 0l190.7 89c10.5 4.9 10.5 19.8 0 24.7L517.8 795c-3.7 1.7-7.9 1.7-11.5 0l-191.2-89c-10.5-4.9-10.5-19.9 0-24.8z" fill="#E0C475" p-id="28469"></path><path d="M359.2 693.5a17.5 11.3 0 1 0 35 0 17.5 11.3 0 1 0-35 0Z" fill="#FFFFFF" p-id="28470"></path><path d="M80 511.8l432 201.3 432-201.3-431-201.3z" fill="#FFFFFF" p-id="28471"></path><path d="M512 729.1c-2.3 0-4.6-0.5-6.8-1.5l-432-201.3c-5.6-2.6-9.2-8.3-9.2-14.5 0-6.2 3.6-11.9 9.3-14.5l433-201.3c4.3-2 9.2-2 13.5 0l431 201.3c5.6 2.6 9.2 8.3 9.2 14.5 0 6.2-3.6 11.9-9.2 14.5l-432 201.3c-2.2 1-4.5 1.5-6.8 1.5zM117.9 511.8L512 695.5l394.2-183.7L513 328.1 117.9 511.8z" fill="#808695" p-id="28472"></path><path d="M315.1 499.5l192.1-89.3c3.7-1.7 7.9-1.7 11.5 0l190.7 89.1c10.5 4.9 10.5 19.8 0 24.7l-191.6 89.3c-3.7 1.7-7.9 1.7-11.5 0l-191.1-89.1c-10.6-4.8-10.6-19.8-0.1-24.7z" fill="#E0C475" p-id="28473"></path><path d="M359.2 511.8a17.5 11.3 0 1 0 35 0 17.5 11.3 0 1 0-35 0Z" fill="#FFFFFF" p-id="28474"></path><path d="M80 329.6l432 201.3 432-201.3-431-201.3z" fill="#FFFFFF" p-id="28475"></path><path d="M512 546.9c-2.3 0-4.6-0.5-6.8-1.5l-432-201.3c-5.6-2.6-9.2-8.3-9.2-14.5 0-6.2 3.6-11.9 9.3-14.5l433-201.3c4.3-2 9.2-2 13.5 0l431 201.3c5.6 2.6 9.2 8.3 9.2 14.5 0 6.2-3.6 11.9-9.2 14.5l-432 201.3c-2.2 1-4.5 1.5-6.8 1.5zM117.9 329.6L512 513.3l394.2-183.7L513 145.9 117.9 329.6z" fill="#808695" p-id="28476"></path><path d="M315.1 317.3L507.2 228c3.7-1.7 7.9-1.7 11.5 0l190.7 89.1c10.5 4.9 10.5 19.8 0 24.7l-191.6 89.3c-3.7 1.7-7.9 1.7-11.5 0L315.2 342c-10.6-4.8-10.6-19.8-0.1-24.7z" fill="#E0C475" p-id="28477"></path><path d="M359.2 329.6a17.5 11.3 0 1 0 35 0 17.5 11.3 0 1 0-35 0Z" fill="#FFFFFF" p-id="28478"></path></svg>`
		}
	}
  },
}
</script>

<style lang="scss" scoped>
	.level-card-container {
		width: 95%;
		min-height: 200px;
		background:radial-gradient(at 96.49283077073736% 42.87202481763821%, hsla(211.03448275862067, 56.862745098039284%, 90%, 1) 0%, hsla(211.03448275862067, 56.862745098039284%, 90%, 0) 100%), radial-gradient(at 21.072147853117418% 8.332825325753301%, hsla(251.99999999999994, 38.46153846153849%, 94.90196078431372%, 1) 0%, hsla(251.99999999999994, 38.46153846153849%, 94.90196078431372%, 0) 100%), radial-gradient(at 78.47940016751653% 87.55551599150111%, hsla(211.03448275862067, 56.862745098039284%, 90%, 1) 0%, hsla(211.03448275862067, 56.862745098039284%, 90%, 0) 100%), radial-gradient(at 66.39976667942473% 94.72660681024504%, hsla(251.99999999999994, 38.46153846153849%, 94.90196078431372%, 1) 0%, hsla(251.99999999999994, 38.46153846153849%, 94.90196078431372%, 0) 100%);
		border-radius: 15px;
		display: flex;
		flex-direction: column;
	}
	.title-box {
		width: 100%;
		display: flex;
		flex-direction: row;
		align-items: flex-start;
		height: 40px;
	}
	.lock-bg {
		width: 30px;
		height: 30px;
		right: 30px;
		bottom: 80px;
		position: absolute;
	}
	.level-card-body {
		width: 100%;
		height: 85%;
		display: flex;
		flex-direction: row;
		align-items: flex-start;
		position: relative;
		min-height: 200px;
	}
	.icon-box {
		height: 100%;
		width: 100%;
	}
	.icon-box-svg {
		width: 40px;
		height: 40px;
	}
	.box-wrap{
		height: 100%;
		width: 100%;
		display: flex;
		flex-direction: column;
		align-items: center;
		
	}
	.box-picture {
		height: 100%;
		padding-bottom: 10px;
	}

</style>
