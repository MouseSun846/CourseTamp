<template name="train-level">
	<view class="page-level-line">
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 57.21881103515625 641.8597412109375">
            <!-- 定义S曲线 -->
            <path id="s-curve" stroke="rgba(255, 255, 255, 1)" stroke-width="5" fill="none"
                d="M17.8285 641.376C-48.2092 306.372 127.286 293.372 17.8285 0.876221"></path>
			
			<!-- <svg xmlns="http://www.w3.org/2000/svg" 
				xmlns:xlink="http://www.w3.org/1999/xlink" 
				width="36" 
				height="42.996917724609375" 
				viewBox="0 0 36 42.996917724609375" 
				fill="none"
				v-for="(item, index) in levelItem" :key="index" :x="item.x" :y="item.y">
				<circle cx="18" cy="21" r="18"   fill="#CBD3F9" >
				</circle>
				<circle cx="18" cy="18" r="18"   fill="#F5F6FA" >
				</circle>
				<circle cx="18" cy="18" r="15"   fill="#D4D4D4" >
				</circle>
				<ellipse cx="18.5" cy="37.458457946777344" rx="5.5" ry="5.538459777832031"   fill="#CBD3F9" >
				</ellipse>
				<ellipse cx="18.5" cy="35.53845977783203" rx="5.5" ry="5.538459777832031"   fill="#F5F6FA" >
				</ellipse>
				<path d="M16.3124 35.2807C16.3124 35.1196 16.443 34.989 16.6041 34.989L20.396 34.989C20.557 34.989 20.6876 35.1196 20.6876 35.2807L20.6876 37.8334C20.6876 37.9945 20.557 38.1251 20.396 38.1251L16.6041 38.1251C16.443 38.1251 16.3124 37.9945 16.3124 37.8334L16.3124 35.2807Z" stroke="rgba(212, 212, 212, 1)" stroke-width="1"  stroke-linecap="round" >
				</path>
				<path   fill="rgba(212, 212, 212, 1)"  d="M19.3123 34.989L19.3123 34.1873L19.8123 34.1873L19.3123 34.1873C19.3123 33.7386 18.9486 33.3749 18.4999 33.3749L18.4999 32.8749L18.4999 33.3749C18.0512 33.3749 17.6874 33.7386 17.6874 34.1873L17.1874 34.1873L17.6874 34.1873L17.6874 34.989L16.6874 34.989L16.6874 34.1873L16.6874 34.1873C16.6874 33.1863 17.4989 32.3749 18.4999 32.3749L18.4999 32.3749C19.5009 32.3749 20.3123 33.1863 20.3123 34.1873L20.3123 34.1873L20.3123 34.989L19.3123 34.989ZM17.1874 35.489C16.9113 35.489 16.6874 35.2652 16.6874 34.989C16.6874 34.7129 16.9113 34.489 17.1874 34.489C17.4636 34.489 17.6874 34.7129 17.6874 34.989C17.6874 35.2652 17.4636 35.489 17.1874 35.489ZM19.8123 35.489C19.5362 35.489 19.3123 35.2652 19.3123 34.989C19.3123 34.7129 19.5362 34.489 19.8123 34.489C20.0885 34.489 20.3123 34.7129 20.3123 34.989C20.3123 35.2652 20.0885 35.489 19.8123 35.489Z">
				</path>
				<path d="M18.9373 36.3529C18.9373 36.5945 18.7414 36.7904 18.4998 36.7904C18.2582 36.7904 18.0623 36.5945 18.0623 36.3529C18.0623 36.1112 18.2582 35.9154 18.4998 35.9154C18.7414 35.9154 18.9373 36.1112 18.9373 36.3529Z"   fill="#D4D4D4" >
				</path>
				<path   fill="rgba(212, 212, 212, 1)"  d="M18.3668 37.1988L18.3668 36.592L18.6585 36.592L18.6585 37.1988L18.3668 37.1988ZM18.5126 37.6988C18.4321 37.6988 18.3668 37.4749 18.3668 37.1988C18.3668 36.9226 18.4321 36.6988 18.5126 36.6988C18.5932 36.6988 18.6585 36.9226 18.6585 37.1988C18.6585 37.4749 18.5932 37.6988 18.5126 37.6988ZM18.5126 37.092C18.4321 37.092 18.3668 36.8681 18.3668 36.592C18.3668 36.3158 18.4321 36.092 18.5126 36.092C18.5932 36.092 18.6585 36.3158 18.6585 36.592C18.6585 36.8681 18.5932 37.092 18.5126 37.092Z">
				</path>
			</svg> -->
			<svg  v-for="(svg, index) in greenLevels" :key="index" v-html="svg"></svg>
			
			
			
        </svg>
	</view>
</template>

<script>
	export default {
	  name: "train-level",
	  data() {
			return {
			  levelItem: [
				{ x: 0, y: 0 },
				{ x: 0, y: 0 },
				{ x: 0, y: 0 },
				{ x: 0, y: 0 }
			  ],
		  }
		},
		props: {
			name: {
				type: String,
				default: ""
			},
			posIndex: {
				type: Number,
				required: true
			}
		},
		mounted(){
			this.updatePos()
		},
		computed: {
			greenLevels() {
				return this.levelItem.map((item, index) => {
				  return `
					<svg xmlns="http://www.w3.org/2000/svg"
						 xmlns:xlink="http://www.w3.org/1999/xlink" 
						 width="36" 
						 height="42.996917724609375" 
						 viewBox="0 0 36 42.996917724609375" 
						 fill="none" 
						 x="${item.x}" 
						 y="${item.y}">
						<circle cx="18" cy="21" r="18"   fill="#CBD3F9" >
						</circle>
						<circle cx="18" cy="18" r="18"   fill="#F5F6FA" >
						</circle>
						<circle cx="18" cy="18" r="15"   fill="#71D25E" >
						</circle>
						<ellipse cx="18.5" cy="37.458457946777344" rx="5.5" ry="5.538459777832031"   fill="#CBD3F9" >
						</ellipse>
						<ellipse cx="18.5" cy="35.53845977783203" rx="5.5" ry="5.538459777832031"   fill="#F5F6FA" >
						</ellipse>
						<path   fill="rgba(113, 210, 94, 1)"  d="M17.1933 35.7521L18.3552 36.8979L17.8286 37.4319L18.3552 36.8979C18.191 36.7359 17.9265 36.7382 17.7651 36.9029L18.3007 37.4278L17.7651 36.9029L20.7977 33.8084L21.869 34.8583L18.8364 37.9528L18.8364 37.9528C18.4167 38.3811 17.7289 38.3869 17.302 37.9659L17.302 37.9659L16.1401 36.8201L17.1933 35.7521ZM17.302 37.9659L17.8286 37.4319L17.302 37.9659L17.302 37.9659ZM18.8364 37.9528L18.3007 37.4278L18.8364 37.9528L18.8364 37.9528ZM16.6667 37.0361C16.2525 37.0361 15.9167 36.7003 15.9167 36.2861C15.9167 35.8719 16.2525 35.5361 16.6667 35.5361C17.0809 35.5361 17.4167 35.8719 17.4167 36.2861C17.4167 36.7003 17.0809 37.0361 16.6667 37.0361ZM21.3334 35.0833C20.9191 35.0833 20.5834 34.7475 20.5834 34.3333C20.5834 33.9191 20.9191 33.5833 21.3334 33.5833C21.7476 33.5833 22.0834 33.9191 22.0834 34.3333C22.0834 34.7475 21.7476 35.0833 21.3334 35.0833Z">
						</path>
					  <text x="18" y="21" text-anchor="middle" dominant-baseline="middle" fill="#000" font-size="10">
						${index} <!-- 这里是要显示的数字 -->
					  </text>
					</svg>
				  `;
				});
			}
		},
		methods: {
			updatePos() {
				const path = document.getElementById('s-curve');
				const pathLength = path.getTotalLength();
				for(let index = 0;index<4;index++) {
					const point = path.getPointAtLength(index * pathLength/4 +pathLength/8);
					this.levelItem[index].x = point.x-18;
					this.levelItem[index].y = point.y;
				}

			}
		}
	}
</script>
<style>
	.page-level-line {
		height: 100%;
	}

</style>
